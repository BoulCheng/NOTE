
# 红黑树
- 只有黑色节点的左孩子才可能是红色的
- 是一棵二分搜索树 
- 叶子节点的定义：不是左右子树都为空的那个节点，再向下一层，最后那个空节点是叶子节点。
    - 对于叶子节点是黑色的可以理解空树的根节点也是黑色的
    - 由2-3树可得，黑色节点的右孩子也一定是黑色的
- 2-3树
    - 红黑树和2-3树本身是等价的
    - 2-3树 (每个节点 有2个或者3个孩子)
        - 不是二叉树 
        - 满足二分搜索树的基本性质
        - 节点可以存放一个元素或两个元素
        - 绝对平衡的树：从根节点到任意一个叶子节点，所经过的节点数量一定是相同
    - 插入节点时不会插入空节点 而是和叶子节点融合。
        
    
- 红节点和其父节点一起表示为2-3树的3节点，依然让每一个节点存储一个元素，实现和2-3树一样的逻辑，实际上这样的数据结构就是红黑树。
- 红黑树是保持"黑平衡"的二叉树，严格将不是平衡二叉树，但左右子树的黑色节点个数的差(左右子树的黑色节点的高度差)保持着绝对平衡，本质在于2-3树是绝对平衡的树结构 
- 红黑树确保没有一条路径会比其他路径长出2倍(简单理解，最短全黑，最长黑红相间)，因而是近似于平衡的
- 黑高
    - 从某个节点x出发(不含该节点)到达一个叶节点(包括该NIL叶节点，叶节点一定是黑色的)的任意一条简单路径上的黑色结点个数(bh(x))
    
- 旋转
    - 一种能保持二叉搜索树性质的搜索树局部操作
        - x是二叉搜索树中的一个结点，那么x的左子树的每一个结点小于等于x，x的右子树的每一个结点大于等于x
    - 左旋和右旋是对称的
    - 只有指针改变 其他所有属性都保持不变
    - 在O(1)时间内运行完成
    - 旋转完中序遍历相同
    - 插入和删除结果会违反红黑性质，所以必须改变树中的某些结点的颜色以及指针结构
    - 指针结构的修改通过旋转完成
    - 可以在保持二叉搜索树性质的前提下 改变节点的黑高 达到满足红黑性质5
    
    
- 红黑树最大高度：h <= 2log(n+1) ，  2是常数复杂度分析的领域来讲时还是logn级别
- 时间复杂度：增删改差(O(h)) O(logn), 不会退化为链表，因为2-3树是绝对平衡的树 
- 与AVL的比较
    - 红黑树最大高度：2logn 所以查找会慢一点
    - 红黑树添加和删除操作比AVL要快一些
    
    
- 插入操作
    - 情况1发生，指针z会沿着树上升2层，循环才会重复，while循环可能被执行的总次数为O(logn)
    - 旋转不会超过2次，最多旋转两次，执行了情况3就会while循环就会结束
       
#### AVL如何保持平衡
#### 红黑树的插入和删除 
#### 流程图 